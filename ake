#!/usr/bin/env nu

def main [] {}

def 'main publish' [version: string] {
  sed -i $'s/"version": ".*"/"version": "($version)"/' package.json
  cd packages/browser
  sed -i $'s/"version": ".*"/"version": "($version)"/' package.json
  ./ake publish
}

# Run node example
def --wrapped 'main example node' [...args] {
  cd examples/node
  ./ake start ...$args
}

# Run browser example
def 'main example browser' [] {
  cd examples/browser
  ./ake start
}
